:root{
  /* --bg1: #0b1020;
  --bg2: #1a1140; */
  --bg1: #120a24;   /* 更偏莓紫 */
  --bg2: #24124a;   /* 紫罗兰 */

  --text: rgba(255,255,255,0.92);
  --muted: rgba(255,255,255,0.70);
  --border: rgba(255,255,255,0.15);

  --glass: rgba(255,255,255,0.07);
  --glass-strong: rgba(255,255,255,0.10);

  --shadow: 0 20px 80px rgba(0,0,0,0.35);
  --shadow2: 0 10px 40px rgba(0,0,0,0.25);

  --intro-bg: url("images/bg_intro.jpg");
  --main-bg: url("images/bg_main.png");

  --photoOpacity: 0.35;   /* 照片背景强度：想更淡就调小 */
  --starsOpacity: 1;      /* 星空开关由JS控制 */
  
  /* 少女感点题色（给发光/描边用） */
  --pink: rgba(255,160,220,1);
  --blue: rgba(160,210,255,1);
  --mint: rgba(190,255,220,1);
  
}


*{ box-sizing: border-box; }
html,body{ height:100%; }

body{
  margin:0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "PingFang SC", "Microsoft YaHei", sans-serif;
  color: var(--text);
  background: linear-gradient(140deg, var(--bg1), var(--bg2));
  overflow-x:hidden;
}

/* 星空层 */
#stars{
  position: fixed;
  inset: 0;
  z-index: -2;
  pointer-events: none;
  opacity: var(--starsOpacity);
  transition: opacity 400ms ease;
}

/* 照片背景层（高级做法：固定底层 + 暗角 + 渐变 + 轻颗粒） */
.bg-layer{
  position: fixed;
  inset: 0;
  z-index: -3;
  pointer-events: none;
  background-image: var(--intro-bg);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  filter: blur(0px) saturate(1.08);
  opacity: var(--photoOpacity);
  transition: background-image 600ms ease, opacity 400ms ease;
}

.bg-layer::before{
  content:"";
  position:absolute;
  inset:0;
  background:
    radial-gradient(1200px 800px at 20% 20%, rgba(80,120,255,0.20), transparent 60%),
    radial-gradient(900px 700px at 80% 30%, rgba(255,90,200,0.18), transparent 55%),
    radial-gradient(900px 700px at 50% 110%, rgba(0,0,0,0.55), transparent 55%),
    linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.55));
  animation: breatheGlow 6s ease-in-out infinite;

}



.bg-layer::after{
  /* 颗粒噪声（纯CSS，不用图片素材） */
  content:"";
  position:absolute;
  inset:0;
  opacity: 0.08;
  background-image:
    repeating-linear-gradient(0deg, rgba(255,255,255,0.07) 0 1px, transparent 1px 2px),
    repeating-linear-gradient(90deg, rgba(255,255,255,0.05) 0 1px, transparent 1px 3px);
  mix-blend-mode: overlay;
}

/* 通用隐藏 */
.hidden{ display:none; }


/* ✅ 照片背景层：真正固定铺满屏幕后面 */
.bg-layer{
  position: fixed;
  inset: 0;
  z-index: -3;                 /* 在星空canvas下面 */
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: var(--photoOpacity);
  filter: saturate(1.05) contrast(1.02);
  pointer-events: none;
}



/* Intro覆盖层 */
.intro{
  position: fixed;
  inset: 0;                 /* top/right/bottom/left = 0 */
  z-index: 9999;            /* 保证在最上层 */
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;

  /* 让它真正占满屏幕，而不是只是一个普通 section */
  min-height: 100vh;
}


.intro-card{
  width:min(720px, 92vw);
  background: var(--glass-strong);
  border: 1px solid var(--border);
  border-radius: 22px;
  padding: 30px 22px;
  backdrop-filter: blur(12px);
  box-shadow: var(--shadow);

  /* 关键：让内容垂直/水平都居中 */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

  /* 控制内部元素间距：比 margin-top 更稳定 */
  gap: 12px;

  text-align: center;

  /* 给卡片一个“可见高度”，否则内容本来就是自适应高度，谈不上垂直居中 */
  min-height: clamp(220px, 36vh, 320px);
}

/* 覆盖你之前给 hint/top 的 margin 写法，统一交给 gap 控制 */
.intro-card h1{ margin: 0; }
.intro-card p{ margin: 0; }



.intro-card .btn{
  display: inline-block;
  margin: 10px 0 0; /* 不要用 auto top/bottom，避免视觉漂 */
}



.intro-card h1{
  margin: 0 0 20px 0;
  font-size: 32px;
  letter-spacing: 0.5px;
}
.name{ text-decoration: underline; text-underline-offset: 6px; }
.hint{ color: var(--muted); margin-top: 10px; }
.tip{ margin-top: 10px; color: rgba(255,255,255,0.8); min-height: 1.2em; }

.btn{
  margin-top: 12px;
  padding: 10px 14px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.10);
  color: var(--text);
  cursor: pointer;
  font-weight: 650;
  letter-spacing: 0.2px;
}
.btn:hover{ background: rgba(255,255,255,0.16); }
.btn-ghost{ margin-top: 0; background: rgba(0,0,0,0.18); }


.main{
  padding-bottom: 40px;
}

.topbar{
  position: sticky;
  top: 0;
  z-index: 10;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 12px 16px;
  background: rgba(10,12,24,0.55);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border);
}

.brand{ font-weight: 900; letter-spacing: 1px; }
.controls{ display:flex; gap: 10px; align-items:center; }

.hero{
  padding: 34px 18px 8px;
  max-width: 920px;
  margin: 0 auto;
}

.hero h2{ margin: 0 0 8px 0; font-size: 28px; }
.hero p{ color: var(--muted); margin: 0; }

.section{
  max-width: 920px;
  margin: 18px auto;
  padding: 0 18px;
}

.section h3{
  margin: 10px 0 12px;
  font-size: 18px;
  letter-spacing: 1.2px;
  font-weight: 900;
  position: relative;
  display: inline-block;
  padding-bottom: 8px;
}

.section h3::after{
  content:"";
  position:absolute;
  left:0;
  bottom:0;
  width: 88px;
  height: 2px;
  background: linear-gradient(90deg,
    rgba(255,255,255,0.85),
    rgba(255,120,220,0.55),
    rgba(110,160,255,0.55),
    rgba(255,255,255,0.10)
  );
  border-radius: 999px;
  filter: drop-shadow(0 0 10px rgba(255,255,255,0.25));
}


/* ====== 时间线：发光导览轨道（高级版） ====== */
.timeline{
  list-style:none;
  margin: 0;
  padding: 10px 0 10px 26px;
  position: relative;
}

.timeline::before{
  content:"";
  position:absolute;
  left: 14px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(
    180deg,
    rgba(255,255,255,0.10),
    rgba(110,160,255,0.38),
    rgba(255,120,220,0.30),
    rgba(255,255,255,0.10)
  );
  box-shadow:
    0 0 18px rgba(140,180,255,0.18),
    0 0 40px rgba(255,120,220,0.08);
}

.timeline li{
  position: relative;
  margin: 14px 0;
  padding: 14px 16px 14px 18px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.06);
  backdrop-filter: blur(12px);
  box-shadow: 0 12px 34px rgba(0,0,0,0.18);
  overflow: hidden;
}

.timeline li::after{
  content:"";
  position:absolute;
  inset:-1px;
  background: radial-gradient(600px 220px at 10% 0%,
    rgba(255,255,255,0.10),
    rgba(110,160,255,0.06),
    transparent 55%);
  pointer-events:none;
}

.timeline li::before{
  content:"";
  position:absolute;
  left: -16px;
  top: 20px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #fff, rgba(255,255,255,0.28));
  box-shadow:
    0 0 10px rgba(255,255,255,0.90),
    0 0 26px rgba(255,160,220,0.45),
    0 0 46px rgba(160,210,255,0.35);
  animation: nodePulse 2.6s ease-in-out infinite;
}

@keyframes nodePulse{
  0%,100%{ transform: scale(1); filter: brightness(1); opacity: 0.95; }
  50%{ transform: scale(1.20); filter: brightness(1.22); opacity: 1; }
}




.date{
  display:inline-block;
  min-width: 110px;
  color: rgba(255,255,255,0.70);
}

.placeholder{
  padding: 18px;
  border-radius: 16px;
  border: 1px dashed rgba(255,255,255,0.25);
  color: rgba(255,255,255,0.75);
  background: rgba(0,0,0,0.15);
}

.letter{
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 16px 16px;
  background: rgba(255,255,255,0.06);
  line-height: 1.85;
  color: rgba(255,255,255,0.88);
}

/* 落款（粉红色） */
.sign{
  text-align: right;
  margin-top: 18px;
  color: rgba(255, 120, 220, 0.95); /* ✅ 粉红 */
}


.footer{
  text-align:center;
  color: rgba(255,255,255,0.6);
  margin-top: 26px;
}

/* 让开场页淡出更像“切换界面” */
.fade-out{
  opacity: 0;
  pointer-events: none;   /* 透明也不挡点击 */
  transition: opacity 500ms ease;
}
.fade-in{
  opacity: 1;
  transition: opacity 500ms ease;
}


/* @media (max-width: 480px){
  .intro-card h1{
    font-size: 22px;
  }
} */

/* ====== 高级质感：全局细节 ====== */
:root{
  --glass: rgba(255,255,255,0.07);
  --glass-strong: rgba(255,255,255,0.10);
  --shadow: 0 20px 80px rgba(0,0,0,0.35);
  --shadow2: 0 10px 40px rgba(0,0,0,0.25);
  --ring: rgba(255,255,255,0.18);
}

#stars{
  position: fixed;
  opacity: var(--starsOpacity);
  inset: 0;
  z-index: -2;
  pointer-events: none;
}

body::before{
  content:"";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background:
    radial-gradient(900px 700px at 70% 20%, rgba(255,120,220,0.16) 0%, transparent 60%),
    radial-gradient(900px 700px at 20% 30%, rgba(110,160,255,0.18) 0%, transparent 60%);
  filter: blur(0px);
}

/* 卡片更像“高级玻璃” */
.intro-card, .timeline, .letter{
  background: var(--glass);
  box-shadow: var(--shadow2);
}

/* 轻微渐入动画（滚动时会触发） */
.reveal{
  opacity: 0;
  transform: translateY(14px);
  transition: opacity 700ms ease, transform 700ms ease;
}
.reveal.is-in{
  opacity: 1;
  transform: translateY(0);
}

/* ====== 照片墙：九宫格/自适应 ====== */
.gallery{
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  padding: 10px;
  border-radius: 18px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.05);
}

@media (min-width: 520px){
  .gallery{ gap: 12px; padding: 12px; }
}
@media (min-width: 780px){
  .gallery{ grid-template-columns: repeat(4, 1fr); }
}

.g-item{
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.12);
  box-shadow: 0 10px 30px rgba(0,0,0,0.22);
  transform: translateZ(0);
}

.g-item::after{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(180deg, transparent 55%, rgba(0,0,0,0.40));
  opacity: 0.9;
  pointer-events:none;
}

.g-item img{
  width: 100%;
  height: 100%;
  aspect-ratio: 1 / 1;
  object-fit: cover;
  display:block;
  transform: scale(1.01);
  transition: transform 400ms ease;
}

.g-item:hover img{
  transform: scale(1.06);
}

.g-cap{
  position:absolute;
  left:10px;
  right:10px;
  bottom:8px;
  z-index:1;
  font-size: 12px;
  color: rgba(255,255,255,0.88);
  text-shadow: 0 6px 18px rgba(0,0,0,0.5);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.gallery-tip{
  margin: 8px 2px 0;
  color: rgba(255,255,255,0.68);
  font-size: 12px;
}

/* ====== Lightbox（放大预览） ====== */
.lightbox{
  position: fixed;
  inset: 0;
  z-index: 10000;
}

.lightbox-backdrop{
  position:absolute;
  inset:0;
  background: rgba(0,0,0,0.62);
  backdrop-filter: blur(10px);
}

.lightbox-panel{
  position: absolute;
  inset: 0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 18px;
}

.lb-figure{
  margin: 0;
  width: min(980px, 92vw);
  max-height: 86vh;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.16);
  background: rgba(255,255,255,0.06);
  box-shadow: var(--shadow);
  overflow: hidden;
}

#lbImg{
  width: 100%;
  height: auto;
  max-height: 76vh;
  display:block;
  object-fit: contain;
  background: rgba(0,0,0,0.25);
}

.lb-cap{
  padding: 10px 12px;
  color: rgba(255,255,255,0.86);
  font-size: 13px;
  border-top: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.18);
}

.lb-btn{
  position: absolute;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(0,0,0,0.25);
  color: rgba(255,255,255,0.92);
  border-radius: 14px;
  padding: 10px 12px;
  cursor: pointer;
  backdrop-filter: blur(10px);
}

.lb-btn:hover{
  background: rgba(255,255,255,0.12);
}

.lb-close{ top: 16px; right: 16px; }
.lb-prev{ left: 16px; top: 50%; transform: translateY(-50%); font-size: 26px; padding: 8px 14px; }
.lb-next{ right: 16px; top: 50%; transform: translateY(-50%); font-size: 26px; padding: 8px 14px; }

/* 适配手机：按钮更靠边，避免挡图 */
@media (max-width: 520px){
  .lb-prev{ left: 10px; }
  .lb-next{ right: 10px; }
  .lb-close{ top: 10px; right: 10px; }
}

/* 尊重减少动画设置 */
@media (prefers-reduced-motion: reduce){
  .reveal{ transition: none; }
  .g-item img{ transition: none; }
}

/* ====== 信纸质感：纹理 + 标题/段落/印章渐显（配合 JS 的 --d 延迟） ====== */

/* 纸张纹理（不需要图片素材） */
.letter-sheet{
  background:
    repeating-linear-gradient(
      0deg,
      rgba(255,255,255,0.06) 0px,
      rgba(255,255,255,0.06) 1px,
      rgba(255,255,255,0.00) 3px,
      rgba(255,255,255,0.00) 6px
    ),
    radial-gradient(900px 600px at 20% 0%,
      rgba(255,255,255,0.10), transparent 55%),
    rgba(255,255,255,0.08);
    padding-bottom: 60px; /* ✅ 预留位置，避免 LOVE 压到最后几行 */
}
/* 信纸：少女感彩边 + 角落小图案（纯CSS，无需素材） */
.letter-sheet{
  position: relative;
  border-radius: 22px;
  border: 2px solid rgba(255,255,255,0.35);
  box-shadow:
    0 18px 70px rgba(0,0,0,0.35),
    0 0 0 6px rgba(255,180,220,0.10),
    0 0 0 12px rgba(160,210,255,0.08);
}

.letter-sheet::before,
.letter-sheet::after{
  content:"";
  position:absolute;
  inset: 10px;
  border-radius: 18px;
  pointer-events:none;
}

/* 内层彩色描边 */
.letter-sheet::before{
  border: 1.5px solid rgba(255,255,255,0.25);
  box-shadow:
    inset 0 0 0 1px rgba(255,170,230,0.22),
    inset 0 0 0 2px rgba(170,210,255,0.18);
}

/* 四角小花纹（用渐变模拟贴纸/印花） */
.letter-sheet::after{
  background:
    radial-gradient(16px 16px at 6% 8%, rgba(255,160,220,0.55), transparent 60%),
    radial-gradient(16px 16px at 94% 8%, rgba(160,210,255,0.55), transparent 60%),
    radial-gradient(16px 16px at 6% 92%, rgba(255,210,160,0.45), transparent 60%),
    radial-gradient(16px 16px at 94% 92%, rgba(190,255,210,0.40), transparent 60%);
  mix-blend-mode: screen;
  opacity: 0.9;
}

/* 标题渐显 */
.letter-title{
  margin: 4px 0 12px;
  letter-spacing: 0.8px;
  opacity: 0;
  transform: translateY(8px);
}

.letter-modal.open .letter-title{
  animation: fadeUp 700ms ease forwards;
}

/* 段落渐显：只有在弹层 open 且 letterSheet 有 run 时才执行 */
.letter-sheet p{
  opacity: 0;
  transform: translateY(10px);
}
/* 情书正文：中文阅读更舒服 */
.letter-sheet{
  color: rgba(35, 24, 45, 0.92);          /* 让字更“纸上墨” */
  font-family: "PingFang SC","Microsoft YaHei","Noto Serif SC",serif;
  font-size: 17px;
  line-height: 2.05;
  letter-spacing: 0.2px;
}

.letter-sheet p{
  margin: 0 0 14px 0;
  text-shadow: ture;                      /* 别发光，发光会难读 */
}

.letter-sheet p strong{
  color: rgba(255,120,190,0.92);
}

.letter-signature{
  text-align: right;
  color: #e34b4b;     /* ⭐ 温柔红色 */
  font-weight: 500;
}


.letter-modal.open .letter-sheet.run p{
  animation: fadeUp 900ms ease forwards;
  animation-delay: var(--d, 0ms);
}

/* 印章：在信纸右下角出现 */
.letter-stamp{
  position: absolute;
  right: 18px;
  bottom: 18px;
  width: 74px;
  height: 74px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.22);
  background: rgba(255,80,120,0.06);
  box-shadow:
    0 0 18px rgba(255,120,220,0.18),
    0 0 40px rgba(110,160,255,0.10);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight: 900;
  letter-spacing: 1px;
  transform: rotate(-10deg) scale(0.98);
  opacity: 0;
}

.letter-modal.open .letter-stamp{
  animation: stampIn 900ms ease forwards;
  animation-delay: 900ms;
}

@keyframes fadeUp{
  to{ opacity: 1; transform: translateY(0); }
}

@keyframes stampIn{
  0%{ opacity: 0; transform: rotate(-10deg) scale(0.88); }
  100%{ opacity: 1; transform: rotate(-10deg) scale(1); }
}


.letter-signature{
  color: #e34b4b; 
  margin-top: 30px;
  font-size: 18px;
  text-align: right;
  opacity: 0;
  animation: fadeUp 1s ease forwards;
  animation-delay: 1.2s;
}

/* 返回按钮 */
.back-btn{
  position:absolute;
  top:18px;
  left:18px;
  border:1px solid rgba(255,255,255,0.2);
  background: rgba(0,0,0,0.25);
  color:white;
  padding:8px 12px;
  border-radius:12px;
  cursor:pointer;
}

/* 入口卡片 */
.letter-entry{
  border:1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.06);
  border-radius:20px;
  padding:28px;
  text-align:center;
  backdrop-filter: blur(10px);
}

.letter-entry-icon{
  font-size:40px;
  margin-bottom:10px;
}
/* 打开信件弹层时：隐藏“给你的情书”入口卡片，避免透到信纸下面 */
.letter-open .letter-entry,
.letter-open #letterBtn{
  visibility: hidden;
}

:root{
  --mx: 50vw;
  --my: 30vh;
}

/* 鼠标微光：跟随移动（很高级的那种“展览灯”） */
body::after{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  background:
    radial-gradient(380px 280px at var(--mx) var(--my),
      rgba(255,255,255,0.10),
      rgba(110,160,255,0.08),
      rgba(255,120,220,0.06),
      transparent 65%);
  mix-blend-mode: screen;
  transition: background 80ms linear;
}
@keyframes breatheGlow{
  0%,100%{ opacity: 0.88; transform: scale(1); }
  50%{ opacity: 1; transform: scale(1.02); }
}

.letter-gate{
  width: 100%;
  border: 1px solid rgba(255,255,255,0.16);
  border-radius: 22px;
  padding: 26px 18px;
  background: rgba(255,255,255,0.06);
  backdrop-filter: blur(12px);
  box-shadow: 0 18px 60px rgba(0,0,0,0.22);
  cursor: pointer;
  position: relative;
  overflow: hidden;
  text-align: center;
}

.letter-gate-inner{ position: relative; z-index: 1; }
.letter-gate-kicker{ color: #ff6fae; letter-spacing: 1.2px; font-size: 12px; }
.letter-gate-title{
  margin-top: 8px;
  font-size: 26px;
  font-weight: 950;
  letter-spacing: 2px;
}
.letter-gate-sub{ margin-top: 8px; color: rgba(255,255,255,0.78); }

.letter-gate-glow{
  position:absolute;
  inset:-40%;
  background: radial-gradient(circle at 30% 30%,
    rgba(255,255,255,0.18),
    rgba(110,160,255,0.10),
    rgba(255,120,220,0.08),
    transparent 60%);
  transform: rotate(12deg);
  animation: gateFloat 7s ease-in-out infinite;
}

@keyframes gateFloat{
  0%,100%{ transform: translate(-2%, -2%) rotate(12deg); }
  50%{ transform: translate(3%, 2%) rotate(12deg); }
}

.letter-gate:hover{
  background: rgba(255,255,255,0.09);
  transform: translateY(-1px);
}

/* ====== 情书入口：大气可点卡片 ====== */
.letter-gate{
  width: 100%;
  border: 1px solid rgba(255,255,255,0.16);
  border-radius: 22px;
  padding: 26px 18px;
  background: rgba(255,255,255,0.06);
  backdrop-filter: blur(12px);
  box-shadow: 0 18px 60px rgba(0,0,0,0.22);
  cursor: pointer;
  position: relative;
  overflow: hidden;
  text-align: center;
}

.letter-gate-inner{ position: relative; z-index: 1; }
.letter-gate-kicker{
  color: rgba(255,255,255,0.68);
  letter-spacing: 1.2px;
  font-size: 18px;
}
.letter-gate-title{
  margin-top: 10px;
  font-size: 26px;
  font-weight: 950;
  letter-spacing: 2px;
  color: #ff6fae; /* ✅ 打开这封信：粉色 */
  text-shadow: 0 0 10px rgba(255,120,180,0.35);
}

.letter-gate-sub{
  margin-top: 18px;
  color: rgba(255,255,255,0.78);
}

.letter-gate-glow{
  position:absolute;
  inset:-40%;
  background: radial-gradient(circle at 30% 30%,
    rgba(255,255,255,0.18),
    rgba(110,160,255,0.10),
    rgba(255,120,220,0.08),
    transparent 60%);
  transform: rotate(12deg);
  animation: gateFloat 7s ease-in-out infinite;
}

@keyframes gateFloat{
  0%,100%{ transform: translate(-2%, -2%) rotate(12deg); }
  50%{ transform: translate(3%, 2%) rotate(12deg); }
}

.letter-gate:hover{
  background: rgba(255,255,255,0.09);
  transform: translateY(-1px);
}

/* ================== 读信弹层：居中显示 + 不遮按钮 + 正文居中 ================== */

.letter-modal{
  position: fixed;
  inset: 0;
  z-index: 20000;
}

.letter-modal.hidden{ display:none; }

.letter-backdrop{
  position:absolute;
  inset:0;
  background: rgba(0,0,0,0.55);
  backdrop-filter: blur(10px);
}

.letter-panel{
  position: absolute;
  inset: 0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 18px;
}

/* 让弹层容器固定一个舒服的最大宽度 */
.letter-panel > *{
  max-width: min(980px, 96vw);
}

/* 信纸本体 */
.letter-sheet{
  width: min(980px, 96vw);
  max-height: 88vh;
  overflow: auto;

  /* ✅ 更清晰的纸张底色，保证文字对比度 */
  background: rgba(255,255,255,0.88);
  color: rgba(30, 24, 46, 0.92);

  border-radius: 18px;
  border: 1px solid rgba(255,160,220,0.35);
  box-shadow: 0 20px 70px rgba(0,0,0,0.35);

  /* ✅ 给顶部留出空间：避免左上/右上按钮遮住正文 */
  padding: 68px 34px 34px;

  /* ✅ 你要求：内容整体居中 */
  /* text-align: center; */
}

/* ✅ 段落居中但不至于太难读：限制行宽 */
.letter-sheet p{
  max-width: 62ch;
  margin: 0 auto 14px;
  font-size: 17px;
  line-height: 2.05;
  letter-spacing: 0.2px;
  text-indent: 2em;
}

/* 标题也居中 */
.letter-title{
  margin: 0 auto 18px;
  font-weight: 900;
  letter-spacing: 1.2px;
}
/* 标题居中 */
.letter-title{
  text-align: center;
}

/* 落款也居中/或右对齐二选一 */
.letter-signature{
  text-align: right;
  font-size: 16px;
  color: #ff7fb5;
  font-weight: 500;
  letter-spacing: 1px;
  text-shadow: 0 0 6px rgba(255,150,200,0.35);
}

.letter-date{
  color: #ff9ac6;
}

/* 右下角 LOVE 印章位置不挡字 */
/* .letter-stamp{
  position: absolute;
  right: 22px;
  bottom: 18px;
  opacity: 0.22;
  transform: rotate(-10deg);
  pointer-events:none;
} */
.letter-stamp{
  position: sticky;   /* ✅ 随滚动保持在可视底部 */
  float: right;
  bottom: 16px;
  right: 16px;
  margin-top: 10px;
  opacity: 0.22;
  transform: rotate(-10deg);
  pointer-events: none;
}

/* ✅ 左上/右上按钮：固定在信纸内部，不遮正文 */
#letterBack,
#letterClose{
  position: absolute;
  top: 18px;
  z-index: 5;
}

#letterBack{ left: 18px; }
#letterClose{ right: 18px; }

/* 移动端再缩一点，避免顶到边 */
@media (max-width: 520px){
  .letter-sheet{ padding: 64px 16px 20px; }
  #letterBack{ left: 12px; }
  #letterClose{ right: 12px; }
}

/* ✅ 打开信后：信封淡出，不再挡字 */
.letter-modal.open .envelope{
  opacity: 0;
  transform: translateY(18px) scale(0.98);
  pointer-events: none;
  transition: opacity 260ms ease, transform 260ms ease;
}

/* 默认信封在最上层出现一下 */
.envelope{
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 4;
}


/* ⭐ 强制覆盖落款颜色 */
.letter-sheet .letter-signature{
  color: #ff6fae !important;
  font-weight: 500;
  letter-spacing: 1px;
}

/* ⭐ 日期也一起优化 */
.letter-sheet .letter-date{
  color: #ff9ac6 !important;
}


.letter-sheet .letter-signature{
  color: #ff7fb5 !important;
  font-weight: 500;
  letter-spacing: 1px;
  text-shadow: 0 0 6px rgba(255,150,200,0.35);
}



